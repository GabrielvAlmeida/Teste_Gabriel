<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Butterfly</title>
    <link rel="stylesheet" href="css.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <header>
        <h1>Butterfly</h1>
        <nav>
            <ul>
                <li><a href="#sobre">Sobre</a></li>
                <li><a href="#contato">Contato</a></li>
                <li><a href="#entrar">Entrar</a></li>
                <li><a href="#criar-conta">Criar Conta</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="banner">
            <h2>Bem-vindo a Butterfly!</h2>
            <p>Construindo uma Sociedade Mentalmente Saudável.</p>
        </section>

        <section id="psicologo">
            <img src="https://static.vecteezy.com/ti/vetor-gratis/p1/512576-icone-preto-do-glyph-do-perfil-gratis-vetor.jpg" alt="Dr. Jack Skellington">
            <div>
                <h2>Conheça o Psicólogo</h2>
                <h3>Dr. Cupid Boy</h3>
                <p><strong>CRP:</strong> 123456/07</p>
                <p><strong>Especialidades:</strong> Psicologia Clínica, Terapia Cognitivo-Comportamental, Terapia de Casal</p>
                <p><strong>Formação Acadêmica:</strong> Doutor em Psicologia pela Universidade Federal do Piauí.</p>
                <h4>Horários Disponíveis</h4>
                <ul>
                    <li>Segunda-feira: 14h - 18h</li>
                    <li>Terça-feira: 9h - 13h</li>
                    <li>Quarta-feira: 14h - 18h</li>
                    <li>Quinta-feira: 9h - 13h</li>
                    <li>Sexta-feira: 14h - 18h</li>
                </ul>
            </div>
        </section>

        <div class="container">
            <section id="entrar" class="form-section">
                <h2>Entrar</h2>
                <form action="javascript:void(0);" onsubmit="handleLogin()">
                    <label for="email-login">Email:</label>
                    <input type="email" id="email-login" name="email-login" required>
                    <label for="senha-login">Senha:</label>
                    <input type="password" id="senha-login" name="senha-login" required>
                    <button type="submit">Entrar</button>
                </form>
            </section>

            <section id="criar-conta" class="form-section">
                <h2>Criar Conta</h2>
                <form action="#" method="POST">
                    <label for="nome-criar">Nome:</label>
                    <input type="text" id="nome-criar" name="nome-criar" required>
                    <label for="email-criar">Email:</label>
                    <input type="email" id="email-criar" name="email-criar" required>
                    <label for="senha-criar">Senha:</label>
                    <input type="password" id="senha-criar" name="senha-criar" required>
                    <button type="submit">Criar Conta</button>
                </form>
            </section>
        </div>

        <section id="agendar" class="hidden">
            <h2>Agende uma Consulta</h2>
            <form action="#" method="POST">
                <label for="data-consulta">Data:</label>
                <input type="date" id="data-consulta" name="data-consulta" required>
                <label for="hora-consulta">Horário:</label>
                <input type="time" id="hora-consulta" name="hora-consulta" required>
                <button type="submit">Agendar</button>
            </form>
        </section>

        <section id="pagamento" class="hidden">
            <h2>Pagamento</h2>
            <div id="card-element"></div>
            <button id="payButton">Pagar R$ 180,00</button>
            <div id="paymentMessage"></div>
        </section>

        <section id="porque">
            <h2>Por Que Fazer Atendimento Psicológico</h2>
            <p>Cupid boy when we touch, i'm in heaven in your arms, fire it up the way you love, feels like Heaven in your arms. Sky rocket to Mars, straight through to your heart every time we touch i'm shooting the stars.</p>
        </section>
    </main>

    <footer>
        <section id="contato">
            <h2>Contato</h2>
            <p>Email: contato@Butterfly.com</p>
            <p>Telefone: (86) 40028922</p>
            <p>Instagram: <a href="https://www.instagram.com/clinicaButterfly" target="_blank">@clinicaButterfly</a></p>
            <a href="https://wa.me/558640028922" target="_blank">
                <i class="fab fa-whatsapp" style="font-size: 24px;"></i> WhatsApp
            </a>
        </section>
        <p>&copy; 2024 Butterfly.</p>
    </footer>

    <script>
        const stripe = Stripe('sua_chave_publica_do_stripe');
        const elements = stripe.elements();
        const cardElement = elements.create('card');
        cardElement.mount('#card-element');

        document.getElementById('payButton').addEventListener('click', async () => {
            const response = await fetch('/create-payment-intent', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ amount: 18000 }) // Valor em centavos (180 reais)
            });
            const { clientSecret } = await response.json();

            const { error } = await stripe.confirmCardPayment(clientSecret, {
                payment_method: {
                    card: cardElement,
                }
            });

            if (error) {
                document.getElementById('paymentMessage').textContent = error.message;
            } else {
                document.getElementById('paymentMessage').textContent = 'Pagamento realizado com sucesso!';
            }
        });

        function handleLogin() {
            alert("Vamos cuidar de Você");
            document.getElementById('agendar').classList.remove('hidden');
            document.getElementById('pagamento').classList.remove('hidden');
        }
    </script>
</body>
</html>

